<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

    <h:head>
        <f:facet name="first">
            <meta http-equiv="X-UA-Compatible" content="IE=edge" />
            <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
            <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
            <meta name="apple-mobile-web-app-capable" content="yes" />
            <meta name="theme-color" content="#{guestPreferences.themeColors[guestPreferences.theme]}" />
            <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet"/>
        </f:facet>
        <title>HelpPeople S.I 
            <ui:insert name="title"/>
        </title>
        <!--<h:outputScript name="js/nanoscroller.js" library="ultima-layout" />-->
        <!--<h:outputScript name="js/layout.js" library="ultima-layout" />-->
        <!--<h:outputScript name="js/ripple.js" library="ultima-layout" />-->
        <!--<h:outputScript name="js/swipe.js" library="ultima-layout" />-->
        <ui:insert name="head"/>
    </h:head>

    <h:body styleClass="main-body #{guestPreferences.compact ? 'layout-compact' : null}">

        <div class="layout-wrapper #{guestPreferences.menuLayout} #{guestPreferences.orientationRTL ? 'layout-rtl' : null}">
            <!--<ui:include src="./topbar.xhtml" />-->
            <!--<ui:include src="./rightpanel.xhtml" />-->
            <!--<ui:include src="./menu.xhtml" />-->
            <!--<ui:include src="resetKey.xhtml"/>-->
            <h:form id="PrincipalForm">

                <p:menubar id="menuTodo" style="border: none; background: none;">

                    <p:menuitem action="#{helpPController.inicio()}" style="text-align: center">
                        <div>
                            <p:avatar styleClass="p-mr-2" size="xlarge" shape="circle">

                                <p:graphicImage 
                                    url="https://c8.alamy.com/compes/kbdjeh/linea-manos-con-el-simbolo-de-la-medicina-del-corazon-para-ayudar-a-la-gente-kbdjeh.jpg"/>
                            </p:avatar>
                        </div>
                        <b>HelpPeople S.I</b>
                    </p:menuitem>

                    <p:menuitem  value="Ubicacion" icon="pi pi-fw pi-map-marker"/>

                    <p:menuitem value="Acerca de" icon="pi pi-fw pi-info-circle"/>

                    <p:menuitem onclick="PF('dlg1').show();" style="margin: 35px" 
                                value="Publicar mi caso" icon="pi pi-fw pi-star-fill"/>

                    <f:facet name="options">
                        <div class="ui-input-icon-left p-mr-2" style="margin-top: 35px">
                            <i class="pi pi-fw pi-search" />
                            <p:inputText placeholder="Search"/>
                        </div>
                        <p:commandButton rendered="#{helpPController.sesion eq null}" action="#{helpPController.iniciarSesion()}" style="margin: 35px" 
                                         value="Iniciar sesión" icon="pi pi-fw pi-sign-in"/>
                        <p:commandButton rendered="#{helpPController.sesion eq null}" action="#{helpPController.registrase()}" style="margin: 35px" 
                                         value="Registrarse" icon="pi pi-fw pi-user-edit"/>
                        <p:commandButton rendered="#{helpPController.sesion ne null}"  style="margin: 35px" 
                                         value="Cerrar Sesion" icon="pi pi-fw pi-user-edit"/>
                    </f:facet>
                </p:menubar>
            </h:form>

            <div class="layout-main">
                <p:growl id="growl" life="5000" showDetail="true"/>
                <ui:insert name="modalCrearPost"/>
                <ui:insert name="cardPost"/>
                <ui:insert name="contentLogin"/>
                <ui:insert name="regGeneral"/>
                <!--<ui:include src="./footer.xhtml" />-->
            </div>

        </div>

        <p:ajaxStatus style="width:32px;height:32px;position:fixed;right:7px;bottom:7px">
            <f:facet name="start">
                <i class="fa fa-circle-o-notch fa-spin ajax-loader" aria-hidden="true"></i>
            </f:facet>

            <f:facet name="complete">
                <h:outputText value="" />
            </f:facet>
        </p:ajaxStatus>


        <!--<h:outputStylesheet name="css/nanoscroller.css" library="ultima-layout" />-->
        <!--<h:outputStylesheet name="css/animate.css" library="ultima-layout" />-->
        <!--<h:outputStylesheet name="css/ripple.css" library="ultima-layout" />-->
        <!--<h:outputStylesheet name="css/layout-#{guestPreferences.theme}.css" library="ultima-layout" />-->
        <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
        <script>
                        AOS.init();
        </script>

        <p:dialog rendered="#{helpPController.sesion ne null}" styleClass="customDialog" minWidth="800" header="Crear Caso" widgetVar="dlg1" modal="true">

            <h:form id="CrearPostForm" class="ui-outputpanel ui-widget" enctype="multipart/form-data" style=" background: aquamarine">
                <br/>
                <div class="p-field">
                    <span class="ui-float-label">
                        <p:inputText id="txtTitulo" value="#{helpPController.post.titulo}" required="true" style="border: none; text-transform:uppercase; font-size: 20px; font-style: italic; width: 500px; background: aquamarine; color: purple"/>
                        <p:outputLabel for="@previous" value="¿Puedes ponerle un distintivo a tu solicitud?" style=" color: grey; font-size: 20px"/>
                    </span>
                </div>
                <br/>
                <div class="p-field">
                    <span class="ui-float-label">
                        <p:inputTextarea id="txtDescrip" value="#{helpPController.post.descripcion}" required="true" style=" border: none;font-size: 20px; font-style: italic; width: 500px; background: aquamarine;; color: purple"/>
                        <p:outputLabel for="@previous" value="Relata tu caso para que los colaboradores simpatizen contigo." style=" color: grey; font-size: 20px" />
                    </span>
                </div>
                <div style=" text-align: center">
                    <div>
                        <p:outputLabel value="Agrega a tu publicacion" style="margin-bottom: 10px ;font-weight: bold; color: grey; font-size: 20px" />
                    </div>
                    <div>
                        <p:fileUpload id="avatarImg"  chooseIcon="pi pi-images" label="#{none}"
                                      style=" border: none; background-color: aquamarine" 
                                      listener="#{helpPController.handleFileUpload}" 
                                      mode="advanced" dragDropSupport="false"
                                      multiple="true" fileLimit="3"
                                      allowTypes="/(\.|\/)(gif|jpe?g|png)$/"/>
                        <p:tooltip for="avatarImg" value="Imagenes/videos" showEffect="clip" position="top" hideEffect="fold" />

                        <p:fileUpload id="avatarFile" chooseIcon="pi pi-fw pi-file" label="#{none}" skinSimple="true"
                                      style=" width: 50px" listener="#{fileUploadView.handleFileUpload}" 
                                      mode="simple" dragDropSupport="false"
                                      multiple="true" fileLimit="3"
                                      allowTypes="/(\.|\/)(gif|jpe?g|png)$/"/>
                        <p:tooltip for="avatarFile" value="Documento/Documentos" showEffect="clip" position="top" hideEffect="fold" />

                        <p:fileUpload id="avatarCamera" chooseIcon="pi pi-fw pi-camera" label="#{none}" skinSimple="true"
                                      style=" width: 50px" listener="#{fileUploadView.handleFileUpload}" 
                                      mode="simple" dragDropSupport="false"
                                      multiple="true" fileLimit="3"
                                      allowTypes="/(\.|\/)(gif|jpe?g|png)$/"/>
                        <p:tooltip for="avatarCamera" value="Hacer foto/video" showEffect="clip" position="top" hideEffect="fold" />
                    </div>
                </div>
                <p:commandButton update="growl,CrearPostForm" actionListener="#{helpPController.crearPost()}" type="submit" style="margin: 5px" 
                                 value="Publicar"/>
            </h:form>
        </p:dialog>
    </h:body>
</html>